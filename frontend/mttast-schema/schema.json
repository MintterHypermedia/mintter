{
  "$schema": "http://json-schema.org/draft-07/schema",
  "type": "object",
  "properties": {
    "type": {
      "type": "string",
      "const": "document"
    },
    "children": {
      "type": "array",
      "items": { "$ref": "#/definitions/flowContent" }
    }
  },
  "definitions": {
    "statement": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "statement"
        },
        "children": {
            "type": "array",
            "minItems": 1,
            "maxItems": 2,
            "items": [
                { "$ref": "#/definitions/content" },
                { "$ref": "#/definitions/groupingContent" }
            ]
        }
      }
    },
    "header": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "header"
        },
        "children": {
          "type": "array",
          "minItems": 1,
          "maxItems": 2,
          "items": [
            { "$ref": "#/definitions/staticContent" },
            { "$ref": "#/definitions/groupingContent" }
          ]
        }
      }
    },
    "group": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "group"
        },
        "children": {
          "type": "array",
          "items": { "$ref": "#/definitions/flowContent" }
        }
      }
    },
    "orderedList": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "orderedList"
        },
        "children": {
          "type": "array",
          "items": { "$ref": "#/definitions/flowContent" }
        }
      }
    },
    "unorderedList": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "unorderedList"
        },
        "children": {
          "type": "array",
          "items": { "$ref": "#/definitions/flowContent" }
        }
      }
    },
    "paragraph": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "paragraph"
        },
        "children": {
          "type": "array",
          "items": { "$ref": "#/definitions/phrasingContent" }
        }
      }
    },
    "staticParagraph": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "staticParagraph"
        },
        "children": {
          "type": "array",
          "items": { "$ref": "#/definitions/staticPhrasingContent" }
        }
      }
    },
    "blockquote": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "blockquote"
        },
        "children": {
          "type": "array",
          "minItems": 1,
          "maxItems": 2,
          "items": [
            { "$ref": "#/definitions/content" },
            { "$ref": "#/definitions/groupingContent" }
          ]
        }
      }
    },
    "code": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "code"
        },
        "children": {
          "type": "array",
          "minItems": 1,
          "maxItems": 2,
          "items": [
            { "$ref": "#/definitions/content" },
            { "$ref": "#/definitions/groupingContent" }
          ]
        }
      }
    },
    "callout": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "callout"
        },
        "children": {
          "type": "array",
          "minItems": 1,
          "maxItems": 2,
          "items": [
            { "$ref": "#/definitions/content" },
            { "$ref": "#/definitions/groupingContent" }
          ]
        }
      }
    },
    "video": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "video"
        },
        "url": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "alt": {
          "type": "string"
        }
      }
    },
    "image": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "image"
        },
        "url": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "alt": {
          "type": "string"
        }
      }
    },
    "embed": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "embed"
        },
        "url": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "alt": {
          "type": "string"
        }
      }
    },
    "link": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "link"
        },
        "url": {
          "type": "string"
        },
        "title": {
          "type": "string"
        }
      }
    },
    "text": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "text"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "flowContent": {
      "oneOf": [
        { "$ref": "#/definitions/statement" },
        { "$ref": "#/definitions/header" },
        { "$ref": "#/definitions/blockquote" },
        { "$ref": "#/definitions/code" },
        { "$ref": "#/definitions/callout" }
      ]
    },
    "phrasingContent": {
      "oneOf": [
        { "$ref": "#/definitions/link" },
        { "$ref": "#/definitions/text" }
      ]
    },
    "staticPhrasingContent": {
      "oneOf": [{ "$ref": "#/definitions/text" }]
    },
    "content": {
      "oneOf": [{ "$ref": "#/definitions/paragraph" }]
    },
    "staticContent": {
      "oneOf": [{ "$ref": "#/definitions/staticParagraph" }]
    },
    "groupingContent": {
      "oneOf": [
        { "$ref": "#/definitions/group" },
        { "$ref": "#/definitions/orderedList" },
        { "$ref": "#/definitions/unorderedList" }
      ]
    }
  }
}
