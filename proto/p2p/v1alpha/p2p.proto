syntax = "proto3";

package com.mintter.p2p.v1alpha;

option go_package = "mintter/api/go/p2p/v1alpha;p2p";

// Mintter P2P API.
service P2P {
  rpc GetPeerInfo(GetPeerInfoRequest) returns (PeerInfo);

  rpc GetObjectVersion(GetObjectVersionRequest) returns (Version);
}

message GetPeerInfoRequest {}

message GetObjectVersionRequest {
  string object_id = 1;
}

message PeerInfo {
  string account_id = 1;
}

message Version {
  repeated PeerVersion version_vector = 1;
}

message PeerVersion {
  string peer = 1;

  string head = 2;

  uint64 seq = 3;

  uint64 lamport_time = 4;
}